

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dynamic Network Classes &mdash; tnetwork  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Dynamic Community classes" href="../demo_community_classes/demo_community_classes.html" />
    <link rel="prev" title="Tutorials" href="../../tutorials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> tnetwork
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installing.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo_intro/demo_intro.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dynamic Network Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#table-of-contents">Table of Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-a-snapshot-representation">Using a snapshot representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-interval-graph-representation">Using an interval graph representation.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accessing-functions">Accessing functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#visualization">Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conversion-between-snapshots-and-interval-graphs">Conversion between snapshots and interval graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aggregation-slicing">Aggregation/Slicing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#slicing">Slicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-cumulated-graphs">Creating cumulated graphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resampling">Resampling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../demo_community_classes/demo_community_classes.html">Dynamic Community classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demo_visu/demo_visu.html">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demo_generation/demo_generation.html">Generation of dynamic networks with communities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demo_DCD/demo_DCD.html">Dynamic Communities detection and evaluation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">tnetwork</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../tutorials.html">Tutorials</a> &raquo;</li>
        
      <li>Dynamic Network Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/reference/from_notebooks/demo_Network_Graph_classes/demo_Network_Graph_classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dynamic-network-classes">
<h1>Dynamic Network Classes<a class="headerlink" href="#dynamic-network-classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="#creating">Creating a simple graph</a></p></li>
</ol>
<ul class="simple">
<li><p><a class="reference external" href="#sn">Using a snapshot representation</a></p></li>
<li><p><a class="reference external" href="#ig">Using an interval graph representation</a></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p><a class="reference external" href="#vizu">Visualization</a></p></li>
<li><p><a class="reference external" href="#conversion">Conversion between snapshots and interval graphs</a></p></li>
<li><p><a class="reference external" href="#aggregation">Aggregation/Slicing</a></p></li>
</ol>
<ul class="simple">
<li><p><a class="reference external" href="#aggregation">Slicing</a></p></li>
<li><p><a class="reference external" href="#aggregation">Cumulated graphs</a></p></li>
<li><p><a class="reference external" href="#aggregation">Resampling</a></p></li>
</ul>
<p>If tnerwork library is not installed, you need to install it, for
instance using the following command</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%%capture #avoid printing output</span>
<span class="c1">#!pip install --upgrade git+https://github.com/Yquetzal/tnetwork.git</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>   <span class="kn">import</span> <span class="nn">tnetwork</span> <span class="k">as</span> <span class="nn">tn</span>

<span class="c1">## Creating simple dynamic graphs and accessing their properties We</span>
</pre></div>
</div>
<p>will represent a graph with similar properties using snapshots and
interval graphs</p>
<div class="section" id="using-a-snapshot-representation">
<h3>Using a snapshot representation<a class="headerlink" href="#using-a-snapshot-representation" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DynGraphSN</span></code> is the class used to represent dynamic networks with
snapshots (SN). By default, <strong>each snapshot last until the next</strong>. The
last snapshot has a duration equal to the min of all the snapshots.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dg_sn</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">DynGraphSN</span><span class="p">()</span>
<span class="n">dg_sn</span>
<span class="n">dg_sn</span><span class="o">.</span><span class="n">add_node_presence</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#add node a in snapshot 1</span>
<span class="n">dg_sn</span><span class="o">.</span><span class="n">add_nodes_presence_from</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#add nodes a,b,c in snapshot 2</span>
<span class="n">dg_sn</span><span class="o">.</span><span class="n">add_nodes_presence_from</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span> <span class="c1">#add node in snapshots 2 &amp; 5</span>

<span class="n">dg_sn</span><span class="o">.</span><span class="n">add_interaction</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#link a and b in snapshot 2</span>
<span class="n">dg_sn</span><span class="o">.</span><span class="n">add_interactions_from</span><span class="p">((</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">),[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="c1">#link b and d in snapshots 2, 3 and 4</span>
</pre></div>
</div>
</div>
<div class="section" id="using-an-interval-graph-representation">
<h3>Using an interval graph representation.<a class="headerlink" href="#using-an-interval-graph-representation" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">DynGraphIG</span></code> is the class used to represent dynamic networks with
Interval Graphs (IG)</p>
<p>Note the similarity between the functions used.</p>
<p>Both graphs are very similar if we consider that the snapshots of
<code class="docutils literal notranslate"><span class="pre">dg_sn</span></code> have a duration of 1.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dg_ig</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">DynGraphIG</span><span class="p">()</span>

<span class="n">dg_ig</span><span class="o">.</span><span class="n">add_node_presence</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#add node a from time 1 to 2</span>
<span class="n">dg_ig</span><span class="o">.</span><span class="n">add_nodes_presence_from</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">],(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># add ndoes a,b,c from 2 to 3</span>
<span class="n">dg_ig</span><span class="o">.</span><span class="n">add_nodes_presence_from</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#add node from 2 to 6</span>

<span class="n">dg_ig</span><span class="o">.</span><span class="n">add_interaction</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># link nodes a and b from 2 to 3</span>
<span class="n">dg_ig</span><span class="o">.</span><span class="n">add_interactions_from</span><span class="p">((</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="c1"># link nodes b and d from 2 to 5</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-functions">
<h3>Accessing functions<a class="headerlink" href="#accessing-functions" title="Permalink to this headline">¶</a></h3>
<p>Using accessing functions, we can check that both graphs are very
similar (Note that intervals are coded using the tnetwork.Intervals
class, and are printed as [start,end[. Therefore, 2 snapshots of
duration 1 at times 1 and 2 code a situation similar to an interval
[1,3[</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dg_sn</span><span class="o">.</span><span class="n">graph_at_time</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_ig</span><span class="o">.</span><span class="n">graph_at_time</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_sn</span><span class="o">.</span><span class="n">graph_at_time</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_ig</span><span class="o">.</span><span class="n">graph_at_time</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)]</span>
<span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)]</span>
<span class="p">[(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)]</span>
<span class="p">[(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">dg_sn</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_ig</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">[</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="visualization">
<h2>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h2>
<p>We can use a basic visualization to compare nodes presence of both
representation.</p>
<p>See the notebook on visualization to see more possibilities.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">dg_sn</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">dg_ig</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../_images/output_14_0.png" src="../../../_images/output_14_0.png" />
<img alt="../../../_images/output_14_1.png" src="../../../_images/output_14_1.png" />
<p>It is also possible to plot the graph at any given time.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_as_graph</span><span class="p">(</span><span class="n">dg_sn</span><span class="p">,</span><span class="n">ts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">auto_show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_as_graph</span><span class="p">(</span><span class="n">dg_ig</span><span class="p">,</span><span class="n">ts</span><span class="o">=</span><span class="p">[</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">3.3</span><span class="p">],</span><span class="n">auto_show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ColumnDataSource</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;1016&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">ColumnDataSource</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;1017&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../_images/output_16_1.png" src="../../../_images/output_16_1.png" />
</div>
<div class="section" id="conversion-between-snapshots-and-interval-graphs">
<h2>Conversion between snapshots and interval graphs<a class="headerlink" href="#conversion-between-snapshots-and-interval-graphs" title="Permalink to this headline">¶</a></h2>
<p>We convert the snapshot representation into an interval graph
representation, using a snapshot lenght of 1.</p>
<p>We check that both graphs are now similar</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">converted_to_IG</span> <span class="o">=</span> <span class="n">dg_sn</span><span class="o">.</span><span class="n">to_DynGraphIG</span><span class="p">(</span><span class="n">sn_duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">converted_to_IG</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_ig</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">[</span> <span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span> <span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">[</span> <span class="p">}</span>
</pre></div>
</div>
<p>Reciprocally, we transform the interval graph into a snapshot
representation and check the similarity</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">converted_to_SN</span> <span class="o">=</span> <span class="n">dg_ig</span><span class="o">.</span><span class="n">to_DynGraphSN</span><span class="p">(</span><span class="n">slices</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">converted_to_SN</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dg_sn</span><span class="o">.</span><span class="n">node_presence</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
</pre></div>
</div>
</div>
<div class="section" id="aggregation-slicing">
<h2>Aggregation/Slicing<a class="headerlink" href="#aggregation-slicing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="slicing">
<h3>Slicing<a class="headerlink" href="#slicing" title="Permalink to this headline">¶</a></h3>
<p>One can conserve only a chosen period using the slice function</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sliced_SN</span> <span class="o">=</span> <span class="n">dg_sn</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#Keep only the snapshots from 2 to 4</span>
<span class="n">sliced_IG</span> <span class="o">=</span> <span class="n">dg_ig</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">3.5</span><span class="p">)</span> <span class="c1">#keep only what happens between 1.5 and 3.5 in the interval graph</span>

<span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">sliced_SN</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">sliced_IG</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">[</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">[</span>
</pre></div>
</div>
<img alt="../../../_images/output_23_1.png" src="../../../_images/output_23_1.png" />
<img alt="../../../_images/output_23_2.png" src="../../../_images/output_23_2.png" />
</div>
<div class="section" id="creating-cumulated-graphs">
<h3>Creating cumulated graphs<a class="headerlink" href="#creating-cumulated-graphs" title="Permalink to this headline">¶</a></h3>
<p>It can be useful to create cumulated weighted graphs to summarize the
presence of nodes and edges over a period</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">g_cumulated</span> <span class="o">=</span> <span class="n">dg_sn</span><span class="o">.</span><span class="n">cumulated_graph</span><span class="p">()</span>

<span class="c1">#Similarly for interval graphs:</span>
<span class="c1">#g_cumulated = dg_ig.cumulated_graph()</span>

<span class="c1">#Draw with node size and edge width propotional to weights in the cumulated graph</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">g_cumulated</span><span class="p">,</span><span class="n">node_size</span><span class="o">=</span><span class="p">[</span><span class="n">g_cumulated</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">g_cumulated</span><span class="o">.</span><span class="n">nodes</span><span class="p">],</span> <span class="n">width</span> <span class="o">=</span> <span class="p">[</span><span class="n">g_cumulated</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">][</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">g_cumulated</span><span class="o">.</span><span class="n">edges</span><span class="p">])</span>
</pre></div>
</div>
<img alt="../../../_images/output_25_0.png" src="../../../_images/output_25_0.png" />
<p>Graphs can also be cumulated only over a specific period</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g_cumulated</span> <span class="o">=</span> <span class="n">dg_sn</span><span class="o">.</span><span class="n">cumulated_graph</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># create a static graph cumulating snapshots</span>
<span class="n">g_cumulated</span> <span class="o">=</span> <span class="n">dg_ig</span><span class="o">.</span><span class="n">cumulated_graph</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="resampling">
<h3>Resampling<a class="headerlink" href="#resampling" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, it is useful to study dynamic network with a lesser temporal
granularity than the original data.</p>
<p>Several functions can be used to aggregate dynamic graphs, thus yielding
snapshots covering larger periods.</p>
<p>Do exemplify this usage, we use a dataset from the sociopatterns project
(<a class="reference external" href="http://www.sociopatterns.org">http://www.sociopatterns.org</a>) that can be loaded in a single command</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sociopatterns</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">DynGraphSN</span><span class="o">.</span><span class="n">graph_socioPatterns2012</span><span class="p">()</span>
</pre></div>
</div>
<p>For this original network loaded as a snapshot representation, we print
the number of snapshots and the first and last dates (the dataset covers
9 days, including a week-end with no activity)</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="n">all_times</span> <span class="o">=</span> <span class="n">sociopatterns</span><span class="o">.</span><span class="n">snapshots_timesteps</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;# snapshots:&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">all_times</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;first date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="s2">&quot; laste date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># snapshots: 11273</span>
<span class="n">first</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">19</span> <span class="mi">05</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">20</span>  <span class="n">laste</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">27</span> <span class="mi">16</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">40</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Be careful, the plot takes a few seconds to draw.</span>
<span class="n">to_plot_SN</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">sociopatterns</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">sn_duration</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">to_datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../_images/output_32_0.png" src="../../../_images/output_32_0.png" />
<p>We then aggregate on fixed time periods using the
<code class="docutils literal notranslate"><span class="pre">aggregate_time_period</span></code> function. Although there are several ways to
call this function, the simplest one is using a string such as “day”,
“hour”, “month”, etc. Note how the beginning of the first snapshot is
now on midnight of the day on which the first observation was made</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sociopatterns_Day</span> <span class="o">=</span> <span class="n">sociopatterns</span><span class="o">.</span><span class="n">aggregate_time_period</span><span class="p">(</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_times</span> <span class="o">=</span> <span class="n">sociopatterns_Day</span><span class="o">.</span><span class="n">snapshots_timesteps</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;# snapshots:&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">all_times</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;first date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="s2">&quot; laste date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># snapshots: 7</span>
<span class="n">first</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">19</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="n">laste</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">27</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">to_plot_SN</span> <span class="o">=</span> <span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">sociopatterns_Day</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span><span class="n">to_datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sn_duration</span><span class="o">=</span><span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../_images/output_36_0.png" src="../../../_images/output_36_0.png" />
<p>Another way to aggregate is to use sliding windows. In this example, we
use non-overlapping windows of one hour, but it is possible to have
other parameters, such as overlapping windows. Note how, this time, the
first snapshot starts exactly at the time of the first observation in
the original data</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sociopatterns_hour_window</span> <span class="o">=</span> <span class="n">sociopatterns</span><span class="o">.</span><span class="n">aggregate_sliding_window</span><span class="p">(</span><span class="n">bin_size</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_times</span> <span class="o">=</span> <span class="n">sociopatterns_hour_window</span><span class="o">.</span><span class="n">snapshots_timesteps</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;# snapshots:&quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">all_times</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;first date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="s2">&quot; laste date:&quot;</span><span class="p">,</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcfromtimestamp</span><span class="p">(</span><span class="n">all_times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># snapshots: 203</span>
<span class="n">first</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">19</span> <span class="mi">05</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">20</span>  <span class="n">laste</span> <span class="n">date</span><span class="p">:</span> <span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">27</span> <span class="mi">15</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">20</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span><span class="n">tn</span><span class="o">.</span><span class="n">plot_longitudinal</span><span class="p">(</span><span class="n">sociopatterns_hour_window</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span><span class="n">to_datetime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">sn_duration</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../_images/output_40_0.png" src="../../../_images/output_40_0.png" />
<img alt="../../../_images/output_40_1.png" src="../../../_images/output_40_1.png" />
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../demo_community_classes/demo_community_classes.html" class="btn btn-neutral float-right" title="Dynamic Community classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../tutorials.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Remy Cazabet

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>